---
title: 平衡二叉树的旋转及其代码实现
date: 2018-033-1
categories: Alogrithm
tags: [二叉树]
---

平衡二叉树的构造问题以及为了维护它的平衡所要进行的LL旋转、RR旋转、LR旋转、RL旋转。

<!--more-->

#### 一、平衡二叉树的构造

```c
node *insert(node *root, int x) {
    if (root == 0) {
        root = &all[total++];
        root->left = root->right = 0;
        root->val = x;
        root->height = 0;
    } else if (x < root->val) {
        root->left = insert(root->left, x);
        if (height(root->left) - height(root->right) == 2) {
            root = (x < root->left->val) ? LL(root) : LR(root);
        }
    } else {
        root->right = insert(root->right, x);
        if (height(root->right) - height(root->left) == 2) {
            root = (x > root->right->val) ? RR(root) : RL(root);
        }
    }
    root->height = max(height(root->left), height(root->right)) + 1;
    return root;
}
```

#### 二、LL旋转

```c
node *LL(node *k2) {
    node *k1 = k2->left;
    k2->left = k1->right;
    k1->right = k2;
    k2->height = max(height(k2->left), height(k2->right)) + 1;
    k1->height = max(height(k1->left), height(k1->right)) + 1;
    return k1;
}
```

#### 三、RR旋转

```c
node *RR(node *k1) {
    node *k2 = k1->right;
    k1->right = k2->left;
    k2->left = k1;
    k1->height = max(height(k1->left), height(k1->right)) + 1;
    k2->height = max(height(k2->left), height(k2->right)) + 1;
    return k2;
}
```

#### 四、LR旋转和RL旋转

```c
node *LR(node *k3) {
    k3->left = RR(k3->left);
    return LL(k3);
}
```

```c
node *RL(node *k1) {
    k1->right = LL(k1->right);
    return RR(k1);
}
```

- - -
THE END.
